# ☘️ 위상정렬(topological sort) 알고리즘

> 가끔씩 출제된다.

### 위상정렬 개념

- 순서가 정해진 일련의 작업을 효율적으로 수행하기 위한 정렬 알고리즘의 일종이다.
- 특히 **사이클이 없는 방향 그래프(Directed Acyclic Graph, DAG)** 의 모든 노드를 방향성을 거스르지 않도록 **순서대로 나열**하는 데 사용된다.
  - DAG는 사이클이 발생하지 않는 방향 그래프로, 이벤트 간의 우선순위나 종속성을 나타내는 데 자주 사용된다.

### 위상정렬 특징

  <img src="./image/Screenshot 2024-02-09 at 11.30.15 PM.png" />

- 위상 정렬은 여러 개의 유효한 정렬 결과를 가질 수 있다.
- 위상정렬은 DAG에만 적용된다. 사이클이 있는 그래프에서는 위상 정렬을 수행할 수 없다.
- 위상 정렬은 노드 간의 순서 의존성을 고려하여 작업 순서를 결정한다.
  - e.g. (상단의 왼쪽 DAG 그래프 사진) 1번 노드에 방문하기 위해서는 7번 혹은 5번 노드가 실행되야 한다.

### 진입차수와 진출차수

위상 정렬을 이해하기 위해서 진입차수라는 두 가지 중요한 개념을 알아야 합니다.

- 진입차수(Indegree): 특정 노드로 들어오는 간선의 수
- 진출차수(Outdegree): 특정 노드에서 나가는 간선의 수

#### 가장 먼저 실행될 수 있는 노드 고르는 기준

- 진입 차수는 없고 진출 차수만 있는 노드가 가장 먼저 실행될 수 있는 노드들이다. (indegree = 0)

### 알고리즘 동작 과정

위상 정렬 알고리즘의 구현은 **큐**를 사용하여 다음과 같은 절차로 진행된다.

1. **진입차수가 0인 모든 노드**를 큐에 삽입한다.
2. 큐가 비어있지 않을 때까지 다음 과정을 반복한다.
   a. 큐에서 노드를 하나 꺼낸다.
   b. 해당 노드에서 출발하는 모든 간선을 제거한다.
   c. 이로 인해 진입차수가 0이 된 새로운 큐에 삽입한다.
